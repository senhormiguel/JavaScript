<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Página do Produto</title>
		<link rel="stylesheet" href="produto.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<!--framework-->
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
	</head>

	<body>
		<!-- Logo - Henrique Sá Pessoa -->
			<div class="logo">
				<a href="" target="_self"><img src="img/logo.png" alt="Página Inicial" title="Henrique Sá Pessoa"></a>
			</div>
				<br>

			<!-- Navegador -->
				<!-- Normal são os tópicos serem todos páginas internas -->

					<ul class="topnav">
  						<li><a href="file:///C:/Users/Miguel%20Eiras/Desktop/Documentos/Miguel%20Eiras_EDIT/Disciplinas/JavaScript/Avalia%C3%A7%C3%A3o/Exerc%C3%ADcio%20Final/index_homepage.html" title="homepage"
						target="_self">Homepage</a></li>

  						<li><a href="" target="_self"><b>Produtos</b></a></li>

						<li><a href="" target="_self"><button class ="Cart">Carrinho de compras</button></a></li>
					</ul>

				<hr>
		
			<!--Título-->
			<div id="título">
				<h1>Loja online de utensílios de cozinha</h1>

			</div>
			<br>

			<div class="slogan">
				<p><i>Para as suas melhores receitas!</i></p>
			</div>
			<!--Grelha dos produtos-->
			<div class="grelha">

				<div class="row"> 
				  <div class="column">
				    <img src="img/Joías_facas.png">
				    <div class="center">
				    	<p>Joías_facas</p>
				    	<p><b>€20</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Joías_garfo.png">
				    <div class="center">
				    	<p>Joías_garfo</p>
				    	<p><b>€20</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Joías_talheres.png">
				    <div class="center">
				    	<p>Joías_talheres</p>
				    	<p><b>€20</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>

				  </div>
				  <div class="column">
				    <img src="img/Frigideira.png">
				    	<div class="center">
				    	<p>Frigideira</p>
				    	<p><b>€5</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Chávena de café.png">
				    	<div class="center">
				    	<p>Chávena de café</p>
				    	<p><b>€6</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Bandejas.png">
				    	<div class="center">
				    	<p>Bandejas</p>
				    	<p><b>€15</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>

				  </div>

				  <div class="column">
				    <img src="img/Saleiro.png">
				    	<div class="center">
				    	<p>Saleiro</p>
				    	<p><b>€5</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Açúcareiro.png">
				    	<div class="center">
				    	<p>Açúcareiro</p>
				    	<p><b>3€</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Molde.png">
				    	<div class="center">
				    	<p>Molde</p>
				    	<p><b>6€</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>

				</div>

				<div class="column">
				    <img src="img/Prato.png">
				    	<div class="center">
				    	<p>Prato</p>
				    	<p><b>€3</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Panela de pressão.png">
				    	<div class="center">
				    	<p>Panela de pressão</p>
				    	<p><b>€40</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>
				    <img src="img/Panela normal.png">
				    	<div class="center">
				    	<p>Panela normal</p>
				    	<p><b>€7</b></p>
				   		<button onclick="myFunction()">Add to cart</button>
				    </div>

				</div>
			</div>
			<br>

			<!-- Footer -->
				<!-- Outro modo mais conciso de inserir imagens: social_img -->


		<div class="API">
			<p id="example00"><b>Cozinhar as receitas do chef HSP: Henrique Sá Pessoa, API.</b></p>
		</div>
		<hr>
		<!--All linha 47-->
		<!--<p class="intro">Products!</p>-->
		<!--Mudar o nome da class-->
		<p class="intro2"><i>O melhor ingrediente na cozinha, e na vida, é o humor.</i></p>
		<!--5-->
		<div class="teste">###</div>
		<!--6-->
		<div class="String"><button>Arroz e massas</button>
			<div class="String1"><button>Bolos e Pastelaria</button></div>
			<div class="String2"><button>Carne</button></div>
			<div class="String3"></div><button>Peixe e marisco</button></div>

		</div>
		<!--7-->
		<div class="div"><i>Os preços dos produtos poderiam ser somente visíveis no carrinho de compras, depois de clicar o botão "Add to Cart"</i></div>
		<!--8-->
		<div class="example03">###</div>

		<div class="footer">
			<p class="direitos">© HSP Receitas Copyright 2024. Todos os direitos reservados.</p>
		</div>

		<script>
			//function myFunction() {
				// const list = document.getElementsByTagName("column")[0];
				// list.getElementsByTagName("Cart")[0].innerHTML = "Utensílios de pastelaria";

			// CASO ENDPOINT
			fetch('https://fakestoreapi.com/products/1')
				.then(response => response.json())
				.then(data => console.log(data))
			.catch(error => console.error(error));

			// Execução Script: página dinámica
			async function fetchData() {
				try {
					const response = await fetch('https://fakestoreapi.com/products/1');
					const data = await response.json();
					console.log(data);
				} catch (error) {
					console.error(error); //console.log(error)
				}
			}
			// id do produto de 0 a 20
			let grelha = 0;
			const grelha <= 20 ? console.log("Product ID is within range") : console.log("Product ID is out of range");
			// Preencher a página dinamicamente com elementos (document...) em API = testes 

			// 1 O método document.getElementById() é uma API, para página dinâmica: 8 hipóteses
			const element = document.getElementById("API");
			// console.log(element);
			// 2
			const grelha = document.getElementsByTagName("p");
			// console.log(grelha);
			// 3
				document.getElementById("example00").innerHTML = 
					'The first paragraph (index 0) inside "API" is: ' + y[0].innerHTML;
			// 4
			const element = document.createElement('div');
			element.innerHTML = 'Para as suas melhores receitas!';
			element.id = 'myElement';
			console.log(element.id);
			// 5 
			const element = document.createElement('teste');
			element.innerHTML = 'Para as suas melhores receitas!';
			element.id = '# # #';
			console.log(element.id);

			// 6 
			const element = document.querySelectorAll('String, String1, String2, String3); // String
			element.innerHTML = '© HSP Receitas Copyright 2024. Todos os direitos reservados.';
			element.id = 'Arroz e massas';
			element.id = 'Bolos e Pastelaria';
			element.id = 'Carne';
			element.id = 'Peixe e marisco';
			console.log(element.id);
			console.log(element.id);
			console.log(element.id);
			console.log(element.id);


			// 7
			const element = document.querySelectorAll('teste01');
			element.innerHTML = 'Teste01';
			element.id = 'example01';
			element.id = 'example02';
			console.log(element.id);
			console.log(element.id);

			// 8

			var example03 = document.getElementById("Utensílios para as receitas do chef Henrique Sá Pessoa");
			console.log(example03);


			// Como se obtém o id
			const element = document.createElement('slogan');
			element.innerHTML = 'Para as suas melhores receitas!';
			element.id = 'myElement';
			console.log(element.id); // Output: "myElement"

			//let file = "fetch_info.txt"
				// fetch ('https://fakestoreapi.com/products/1')
				// .then(x => x.text())
				// .then(y => document.getElementById("demo").innerHTML = y);

			// QUERY SELECT ALL = BÓNUS
			const grelha = document.querySelectorAll("p.intro");
				document.getElementById("example00").innerHTML = 
					'The first paragraph (index 0) with class="intro" is: ' + grelha[0].innerHTML;
			// BÓNUS
			const url = new URLSearchParams(window.location.search);
			const productId = url.get('id');

			const urlString = "http://example.com/products?id=123";
			const decodedUrl = decodeURIComponent(urlString);
			const startIndex = decodedUrl.indexOf("id=");
			const endIndex = decodedUrl.indexOf("&", startIndex);
			const productId = decodedUrl.substring(startIndex + 3, endIndex);

			// Listar três produtos pela categoria, https://fakestoreapi.com/products/category/jewelery

			fetch('https://fakestoreapi.com/products/category/jewelery')
				.then(response => response.json())
				.then(data => {
					const Joías_facas = data.filter(product => product.name.includes('Joías_facas'));
					const Joías_garfo = data.filter(product => product.name.includes('Joías_garfo'));
					const Joías_talheres = data.filter(product => product.name.includes('Joías_talheres'));

					console.log(Joías_facas[0]);
					console.log(Joías_garfo[1]);
					console.log(Joías_talheres[2]);
			});
			// obter id a partir do produto da categoria: https://fakestoreapi.com/products/category/jewelery

			const grelhaId = 5; // ID do produto que você deseja obter
			// const grelhaId = 7
			// const grelhaId = 2
			fetch(`https://fakestoreapi.com/products/${productId}`)
			  .then(response => response.json())
			  .then(data => {
			    const product = data;
			    console.log(product.id); // Imprime o ID do produto
			  });
			// Ano gerado 
			const footer = new Date();
			const anoAtual = agora.getFullYear();
			console.log(2024); 

			// Carrinho de compras

			class Ecommerce {
				constructor() {
					this.products = [];

				}
				console.log(O nome do produto é: ${});
				addProduct(product) {
					/*  nome: 'Produto 1',
						preco: 10.99*/
					this.products.push(product);
					console.log(products);
				}


				setProductPrice(productId, price) {
					const product = this.products.find((p) => p.id === productId);
					if (product) {
						product.price = price;
					console.log(products);
					// console.log(product);
					}
				}
				const precoAntigo = 10.99;
				const precoNovo = 12.99;
				precoAntigo = precoNovo;
				console.log(O novo preço é: ${precoAntigo});
				console.log(O novo preço é: ${precoNovo});


				getAllProducts() {
					return this.products;
					console.log(products);
				}

				getAllProductsNames() {
					return this.products.map((product) => product.name).join("; ");
					console.log(products);
				}

				/*getProductById(productId) {
					for (let product of this.products) {
						// for (this.products) {
						if (product.id === productId) {
							return product;
						}
					}
						return null;
				console.log(product);
				}*/

				function getProductById(productId) {
					const products = [...]; // Replace with your product data
					const product = products.find((product) => product.id === productId);
					return product;
				}

				const productId = '12345';
				const product = getProductById(productId);
				console.log(product); // Output

				/*getProductByName(productName) {
					for (let product of this.products) {
						// for(this.products) {
						if (product.name === productName) {
							return product;
						}
					}
						return null;
				console.log(product);
				}*/

				const products = {
					'Prato': { id: 1 },
					'Panela de Pressão': { id: 2 },
					'Panela normal': { id: 3 },
					'Moldes': { id: 4 },
					// 'Açúcareiro': { id: 5 }

				};

				function getProductByName(name) {
					return products[name];
				/*function getProductByname(Panela de Pressão) {
					return products[panela de pressão];
				} */
				}

				const product = getProductByName('Product 2'); // Panela de Pressão é Product 2

				console.log(product);

				// Produtos conseguidos pelo nome e detalhes
				const produtos = [
					{ id: 1, descricao: "Culinária", categoria: "Prato", preco: 3.00 },
					{ id: 2, descricao: "Culinária", categoria: "Panela de Pressão", preco: 40.00 },
					{ id: 3, descricao: "Culinária", categoria: "Panela normal", preco: 7.00 },

				];

				function filtrarPorPreco(initialPrice, finalPrice) {
					return produtos.filter((produto) => produto.preco >= initialPrice && produto.preco <= finalPrice);
				}

				const produtosFiltrados = getProductByPrice(40.00, 3.00); // const produtosFiltrados = filtrarPorPreco
				console.log(produtosFiltrados);

				// addProductToCart
				// Adicionar produtos no carrinho de compras

				const addToCart = (id) => {
				const itemExiste = cartItem.find((item) => item === id);
					if (!itemExiste) {
						cartItem.push(id);
						console.log(`Item ${id} adicionado ao carrinho!`);
					} else {
					console.log(`Item ${id} já está no carrinho!`);
					}
				};

				// Verifique se o preço do produto está dentro do intervalo definido
				/*function addProductToCart(productId, price) {
					if (price >= cart.initialPrice && price <= cart.finalPrice) {
					cart.products.push({
					id: productId,
					price: price
					});
					cart.totalPrice = calculateTotalPrice();
					console.log(products);
					}
				}
				*/

				// addProductToCart 
				const product = {
				  name: "Product Name", // name: "Moldes",
				  price: 9.99,
				  quantity: 1
				};

				// 
				const cart = [];

				// Function para add product to carrinho de compras
				function addProductToCart(product) {
				  // Verificar se o produto está no carro
				  if (cart.some((item) => item.name === product.name)) {
				    // Utilizar a quantidade
				    cart.forEach((item) => {
				      if (item.name === product.name) {
				        item.quantity += product.quantity;
				      }
				    });
				  } else {
				    // Adicionar produto
				    cart.push(product);
				    console.log(cart);
				  }
				}

				// Call the function to add the product to the cart
				/*addToCart(product);
				addProductToCart(product) {
					this.cart.push(product);
					console.log(cart);
				}*/

				getCart() {
					return this.cart;
					console.log(cart);
				}

				getCartTotalPrice(cart) {
					const total = 0;
					for (const product of cart) {
						total += product.price * product.quantity;
					}
						return total;
						console.log(total);
				}
			}

		</script>

	</body>
</html>



